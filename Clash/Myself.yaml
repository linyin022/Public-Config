# æ··åˆç«¯å£ HTTPå’ŒSOCKS5ç”¨ä¸€ä¸ªç«¯å£
mixed-port: 7890
# TCP å¹¶å‘è¿æ¥æ‰€æœ‰ IP, å°†ä½¿ç”¨æœ€å¿«æ¡æ‰‹çš„ TCP
tcp-concurrent: true
# è§„åˆ™æ¨¡å¼ï¼šrule/global/direct/script
mode: rule
# è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ«: silent/error/warning/info/debug
log-level: error
# å…¨å±€ TLS æŒ‡çº¹
global-client-fingerprint: chrome
# åŒ¹é…æ‰€æœ‰è¿›ç¨‹ï¼ˆalways/strict/offï¼‰
find-process-mode: strict

profile:
  store-selected: true

geodata-mode: true
geox-url:
  geosite: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite-lite.dat"
  geoip: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip-lite.dat"
  mmdb: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country-lite.mmdb"
geo-auto-update: true
geo-update-interval: 24
dns:
  enable: true
  prefer-h3: true
  ipv6: true
  use-system-hosts: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fallback:
    - https://doh.apad.pro/dns-query
    - https://dns.cooluc.com/dns-query
  default-nameserver:
    - tls://223.5.5.5
    - tls://1.12.12.12
  nameserver:
    - tls://223.5.5.5
    - tls://1.12.12.12

# è®¢é˜…æ›´æ–°å’Œå»¶è¿Ÿæµ‹è¯•ç›¸å…³å‚æ•°
query_sub: &query_sub {type: http, interval: 86400, health-check: {enable: true, url: http://latency-test.skk.moe/endpoint, interval: 1800}}
telegram: &telegram {type: select, include-all: true, filter: "(?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)|(?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)"}
select: &select {type: select, include-all: true}
# classicalè§„åˆ™ç›¸å…³
c: &c {type: http, behavior: classical, format: text, interval: 86400}
# domainè§„åˆ™ç›¸å…³
d: &d {type: http, behavior: domain, format: text, interval: 86400}
# ipcidrè§„åˆ™ç›¸å…³
i: &i {type: http, behavior: ipcidr, format: text, interval: 86400}

##è®¢é˜…è§„åˆ™
#proxy-providers:
#  Subscribe: {<<: *query_sub, path: ./proxy-providers/Sub.yaml, url: http://your-service-provider}

#åˆ†æµç­–ç•¥
proxy-groups:
  - {name: Proxies, type: select, include-all: true, proxies: [DIRECT], icon: https://raw.githubusercontent.com/Orz-3/face/master/Global.png}
  - {name: Telegram, <<: *telegram, icon: https://raw.githubusercontent.com/Orz-3/face/master/Message.png}
  - {name: AI, <<: *select, icon: https://raw.githubusercontent.com/Orz-3/face/master/Static.png}

#åˆ†æµè®¢é˜…
rule-providers:
  Apple: {<<: *c, path: ./rule/Apple.list,  url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Apple.list}
  Telegram: {<<: *c, path: ./rule/Telegram.list,  url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Telegram.list}
  AI: {<<: *c, path: ./rule/AI.list,  url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/AI.list}
  Steam: {<<: *c, path: ./rule/AI.list,  url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Steam.list}

#è§„åˆ™
rules:
  - RULE-SET,Apple,DIRECT
  - RULE-SET,AI,AI
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Steam,Proxies
  - GEOSITE,github,Proxies
  - GEOSITE,microsoft,DIRECT
  - GEOSITE,gfw,Proxies
  - GEOSITE,cn,DIRECT
  - GEOIP,lan,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,Proxies
